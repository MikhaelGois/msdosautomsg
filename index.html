
<!DOCTYPE html>
<html lang="en" class="app-root">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Message & Password Utility</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Removed login redirect: app is now accessible without auth -->
</head>
<body>
  <header class="header">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <div>
        <h1>Message & Password Utility</h1>
        <div class="prompt">Automatic message, password and e-mail generator</div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <div class="header-analyst">Signed in as: <span class="analyst-name" style="font-weight:700"></span></div>
        <button id="themeToggleBtn" aria-label="Toggle theme" title="Toggle theme" class="theme-btn">üåô</button>
      </div>
    </div>
  </header>

  <main class="container">
    <nav class="tabbar" style="display:flex;gap:8px;margin-bottom:8px">
      <button class="btn ghost" data-tab="messages">Messages</button>
      <button class="btn ghost" data-tab="emails">Emails</button>
      <button class="btn ghost" data-tab="passwords">Passwords</button>
      <a class="btn ghost" href="/labeler.html" style="display:none">Labeler</a>
      <a class="btn ghost" href="/admin.html" style="display:none">Admin</a>
    </nav>
    <!-- ====== Mensagens de Ticket ====== -->
    <section class="card" id="messageCard" data-tab="messages">
      <h2>Mensagens de Ticket</h2>

      <form id="messageForm" class="form-grid" autocomplete="off">
        <div class="form-row">
          <label for="channelSelect">Canal</label>
          <select id="channelSelect">
            <option value="teams">Microsoft Teams</option>
            <option value="requestia">Requestia (encerramento)</option>
          </select>
        </div>

        <div class="form-row">
          <label for="messageType">Tipo de mensagem</label>
          <select id="messageType">
            <option value="progress">Atendimento / Em andamento</option>
            <option value="closure">Encerramento</option>
          </select>
        </div>

        <div class="form-row">
          <label for="categorySelect">Categoria</label>
          <select id="categorySelect"></select>
        </div>

        <div class="form-row" id="subcategoryRow">
          <label for="subcategorySelect">Subcategoria</label>
          <select id="subcategorySelect"></select>
        </div>

        <div class="form-row">
          <label for="ticketId">Ticket</label>
          <input id="ticketId" type="text" placeholder="#12345" />
        </div>

        <div class="form-row">
          <label for="requesterName">Nome do usu√°rio</label>
          <input id="requesterName" type="text" placeholder="Nome do usu√°rio" />
        </div>

        <div class="form-row">
          <label for="username">Usu√°rio (login)</label>
          <input id="username" type="text" placeholder="ex.: jdoe" />
        </div>

        <!-- campo 'Atendente' e 'Data/Hora' removidos; o solicitante ver√° o respons√°vel automaticamente -->

        <!-- Bot√µes: PT, EN, PT/EN -->
        <div class="btn-row span-2">
          <button type="button" id="generateMsgPTBtn" class="btn">Gerar Mensagem</button>

          <button type="button" id="copyMsgBtn" class="btn">Copiar</button>
          <!-- Save removed: DB disabled -->
          <button type="reset" id="clearMsgBtn" class="btn ghost">Limpar</button>
        </div>

        <div class="form-row span-2">
          <label for="output">Mensagem gerada</label>
          <textarea id="output" rows="12" readonly></textarea>
        </div>
      </form>
    </section>

    <!-- ====== Gerador de E-mails (templates) ====== -->
    <section class="card" id="emailCard" data-tab="emails">
      <h2>Gerador de E-mails (templates)</h2>
      <div class="form-grid">
        <!-- template selection -->
        <div class="form-row span-2">
          <label for="templateSelect">Modelo</label>
          <select id="templateSelect"></select>
        </div>
      </div>

      <!-- Subject field - always visible -->
      <div class="form-grid">
        <div class="form-row span-2">
          <label for="emailSubject">Assunto</label>
          <textarea id="emailSubject" rows="2" placeholder="Assunto do e-mail" class="auto-resize"></textarea>
        </div>
      </div>

      <!-- New template section - only visible when 'Novo' is selected -->
      <div id="newRequirementsRow" class="form-grid">
        <div class="form-row span-2">
          <label for="newRequirements">Descreva o que precisa (novo modelo)</label>
          <textarea id="newRequirements" rows="4" placeholder="Descreva o objetivo, tom e p√∫blico do e-mail" class="auto-resize"></textarea>
        </div>
      </div>

      <!-- Dynamic form fields for selected template -->
      <div id="templateFieldsContainer" class="form-grid">
        <div id="templateFields" class="span-2"></div>
      </div>

      <!-- Action buttons -->
      <div class="form-grid">
        <div class="btn-row span-2">
          <button type="button" id="generateEmailBtn" class="btn">Gerar E-mail</button>
          <button type="button" id="copyEmailBtn" class="btn ghost">Copiar</button>
          <button type="button" id="clearEmailBtn" class="btn ghost">Limpar</button>
          <button type="button" id="saveTemplateBtn" class="btn ghost">Salvar modelo</button>
        </div>
      </div>

      <!-- Email body output -->
      <div class="form-grid">
        <div class="form-row span-2">
          <label for="emailBodyOutput">Corpo do e-mail gerado</label>
          <textarea id="emailBodyOutput" rows="12" class="auto-resize"></textarea>
        </div>
      </div>
    </section>

    <!-- ====== Gerador de Senhas ====== -->
    <section class="card" id="passwordCard" data-tab="passwords">
      <h2>Gerador de Senhas (pol√≠tica)</h2>

      <form id="passwordForm" class="form-grid" autocomplete="off">
        <div class="form-row">
          <label for="pwName">Nome do usu√°rio</label>
          <input id="pwName" type="text" placeholder="Nome completo" />
        </div>

        <div class="form-row">
          <label for="pwUsername">Login</label>
          <input id="pwUsername" type="text" placeholder="login/usu√°rio" />
        </div>

        <div class="form-row">
          <label for="pwLength">Comprimento</label>
          <input id="pwLength" type="number" min="12" value="12" />
        </div>

        <div class="form-row">
          <label class="checkbox">
            <input type="checkbox" id="pwSymbols" checked />
            <span>Incluir s√≠mbolos (!@#$%)</span>
          </label>
        </div>

        <div class="btn-row">
          <button type="button" id="generatePwBtn" class="btn">Gerar senha</button>
          <button type="button" id="copyPwBtn" class="btn">Copiar</button>
          <button type="reset" id="clearPwBtn" class="btn ghost">Limpar</button>
        </div>

        <div class="form-row span-2">
          <label for="pwOutput">Senha gerada</label>
          <input id="pwOutput" type="text" readonly />
        </div>

        <div class="span-2">
          <p><strong>Pol√≠tica:</strong></p>
          <ul>
            <li>Diferencia mai√∫sculas de min√∫sculas</li>
            <li>M√≠nimo de 12 caracteres</li>
            <li>Inclui ao menos 1 n√∫mero</li>
            <li>Inclui ao menos 1 letra min√∫scula</li>
            <li>Inclui ao menos 1 letra mai√∫scula</li>
            <li>N√£o cont√©m parte do nome/login</li>
            <li>N√£o cont√©m palavra/seq. comum</li>
          </ul>
        </div>
      </form>
    </section>
  </main>

  <footer class="footer">
    <small>&copy; 2026 ‚Äî Message & Password Utility.</small>
  </footer>

  
  <script src="app.js"></script>
  <script src="email_generator.js"></script>
</body>
</html>
``
